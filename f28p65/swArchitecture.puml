@startuml
title Software Architecture (Static Overview)

skinparam componentStyle rectangle
skinparam packageStyle rectangle
skinparam shadowing false
skinparam defaultTextAlignment center

' === Top-Level Layers ===
rectangle "Microcontroller (MCU)" as MCU {
    rectangle "Software (SW)" as SW {
        package "Basic Software (BSW)" {
            component "OS\n(Operating System)" as OS {
                [FreeRTOS] as RTOS
            }
            component "SysHwCfg" as SysHwCfg {
                [SysHwCfg_Init] as SysHwCfg_Init
            }
        }

        package "Device Driver (DD)" as DD {
            component "Driver" as Driver
        }

        package "Microcontroller Abstraction" as MCAL {
            component "CPUTimer" as CPUTimer
        }
    }

    package "Peripherals" as PER {
        component "Microcontroller" as HW
    }
}

' === Relationships ===
OS -[hidden]-> MCAL
SysHwCfg_Init -[hidden]-> MCAL
DD -[hidden]-> MCAL
MCAL -[hidden]-> PER : Test

' === Notes ===
note left of MCAL
  MCU-specific drivers
end note

@enduml
